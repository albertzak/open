<!DOCTYPE html>
<html>
  <head>
    <title>small.systems</title>
    <style>
      html, body, #editor-root {
        padding: 0;
        margin: 0;
        height: 100%;
        overflow: hidden;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        background-color: black;
        color: white;
      }
    </style>
  </head>

  <body>
    <style id="css"></style>

    <div id="root"></div>

    <script type="module">
      import { node } from '/build-web/web.js'

      const ident = (window.location.hash && window.location.hash.length > 5)
        ? window.location.hash
        : 'ws://fxp1.local:8883#gigi:web'

      const title = (t) => { document.title = t }

      const css = (...c) => {
        document.getElementById('css').textContent = c.join('\n\n')
      }

      window.jsImport = async (url) => {
        const p = await import(url)
        console.log('jsImport', p)
        return p
      }

      node(ident, document.getElementById('root'), { title, css })
    </script>
  </body>
</html>
